/*
* An API for cellars that implement V2 of the EIP4626-compatible Cellar.sol contract.
*
* See [Cellar.sol](https://github.com/PeggyJV/cellar-contracts/blob/main/src/base/Cellar.sol)
*/

syntax = "proto3";
package steward.v4;

option go_package = "/steward_proto";

import "a_token.proto";
import "debt_token.proto";
import "aave_v3_a_token.proto";
import "aave_v3_debt_token.proto";
import "aave_v3_debt_token_flash_loan.proto";
import "balancer_pool.proto";
import "balancer_pool_flash_loan.proto";
import "c_token.proto";
import "erc4626.proto";
import "f_token.proto";
import "morpho_aave_v2_a_token.proto";
import "morpho_aave_v2_debt_token.proto";
import "morpho_aave_v3_a_token_collateral.proto";
import "morpho_aave_v3_a_token_p2p.proto";
import "morpho_aave_v3_debt_token.proto";
import "morpho_blue_collateral.proto";
import "morpho_blue_debt.proto";
import "morpho_blue_supply.proto";
import "uniswap_v3.proto";
import "swap_with_uniswap.proto";
import "fees_and_reserves.proto";
import "zero_x.proto";
import "oneinch.proto";
import "vesting_simple.proto";
import "cellar_adaptor.proto";
import "aave_v2_enable_asset_as_collateral_adaptor.proto";
import "legacy_cellar_adaptor.proto";
import "debt_f_token.proto";
import "collateral_f_token.proto";
import "aura_erc4626.proto";
import "convex_curve.proto";
import "curve.proto";
import "staking.proto";

/*
* Represents a function call to a cellar that implements Cellar.sol
*/
message CellarV2 {
    // The function you wish to execute on the target cellar
    oneof function { 
        // Represents function `callOnAdaptor(AdaptorCall[] memory data)`
        CallOnAdaptor call_on_adaptor = 1;
        // Represents function `removePosition(uint256 index)`
        RemovePosition remove_position = 2;
        // Represents function `setHoldingPosition(uint32 position_id)`
        SetHoldingPosition set_holding_position = 3;
        // Represents function `setStrategistPayoutAddress(address payout)`
        SetStrategistPayoutAddress set_strategist_payout_address = 4;
        // Represents function `swapPositions(uint256 index1, uint256 index2)`
        SwapPositions swap_positions = 5;
        // Represents function `setShareLockPeriod(uint256 newLock)`
        SetShareLockPeriod set_share_lock_period = 6;

        // TEMPORARY
        // These are governance functions, but will be allowed in a limited capacity for SPs while
        // the new governance model is still in early adoption for emergencies.

        // Represents function `addPosition(uint256 index, address position)`
        AddPosition add_position = 7;
        // Represents function `setupAdaptor(address adaptor)`
        SetupAdaptor setup_adaptor = 8;
        // Represents function `initiateShutdown()`
        InitiateShutdown initiate_shutdown = 9;
        // Represents function `liftShutdown()`
        LiftShutdown lift_shutdown = 10;
        // Represents function `setPlatformFee(uint256)`
        SetPlatformFee set_platform_fee = 11;
        // Represents function `setStrategistPlatformCut(address)`
        SetStrategistPlatformCut set_strategist_platform_cut = 12;
        // Represents function `setRebalanceDeviation(uint256)`
        SetRebalanceDeviation set_rebalance_deviation = 13;
    }

    /*
    * Allows strategists to manage their Cellar using arbitrary logic calls to adaptors.
    *
    * Represents function `callOnAdaptor(AdaptorCall[] memory data)`
    */
    message CallOnAdaptor {
        repeated AdaptorCall data = 1;
    }

    /*
    * Remove the position at a given index from the list of positions used by the cellar.
    *
    * Represents function `removePosition(uint32 index, bool inDebtArray)`
    */
    message RemovePosition {
        // Index at which to remove the position
        uint32 index = 1;
        // Whether to remove position from the debt array, or the credit array.
        bool in_debt_array = 2;
    }

    /*
    * Set the holding position used of the cellar.
    *
    * Represents function `setHoldingIndex(uint8 index)`
    */
    message SetHoldingPosition {
        // ID (index) of the new holding position to use
        uint32 position_id = 1;
    }

    /*
    * Sets the Strategists payout address.
    *
    * Represents function `setStrategistPayoutAddress(address payout)`
    */
    message SetStrategistPayoutAddress {
        string payout = 1;
    }

    /*
    * Swap the positions at two given indeces.
    *
    * Represents function `swapPositions(uint32 index1, uint32 index2)`
    */
    message SwapPositions {
        // Index of the first position
        uint32 index_1 = 1;
        // Index of the second position
        uint32 index_2 = 2;
        // Whether to switch positions in the debt array, or the credit array.
        bool in_debt_array = 3;
    }

    /*
    * Allows share lock period to be updated.
    *
    * Represents function `setShareLockPeriod()`
    */
    message SetShareLockPeriod {
        string new_lock = 1;
    }

    /*
    * Insert a trusted position to the list of positions used by the cellar at a given index.
    *
    * Represents function `addPosition(uint32 index, uint32 positionId, bytes configurationData, bool inDebtArray)`
    */
    message AddPosition {
        // Index at which to add the position
        uint32 index = 1;
        // The position's ID in the cellar registry
        uint32 position_id = 2;
        // Data used to configure how the position behaves
        bytes configuration_data = 3;
        // Whether to add position in the debt array, or the credit array.
        bool in_debt_array = 4;
    }

    // Represents function `initiateShutdown()`
    message InitiateShutdown {
    }

    // Represents function `liftShutdown()`
    message LiftShutdown {
    }

    // Represents function `setPlatformFee(uint64)`
    message SetPlatformFee {
        // New platform fee
        uint64 amount = 1;
    }

    // Represents function `setStrategistPlatformCut(uint64)`
    message SetStrategistPlatformCut {
        // New strategist platform cut
        uint64 amount = 1;
    }

    /*
    * Allows owner to add new adaptors for the cellar to use.
    *
    * Represents function `setupAdaptor(address adaptor)`
    */
    message SetupAdaptor {
        // Address of the adaptor
        string adaptor = 1;
    }

    /*
    * Changes the cellar's allowed rebalance deviation, which is the percent the total assets of a cellar may deviate
    * during a `callOnAdaptor`(rebalance) call. The maximum allowed deviation is 100000000000000000 (0.1e18), or 10%.
    *
    * Represents function `setRebalanceDeviation(uint256)`
    */
    message SetRebalanceDeviation {
        string new_deviation = 1;
    }

}

/*
* Represent a function call initiated through a governance proposal
*/
message CellarV2Governance {
    // The function to call on the target cellar
    oneof function {
        // Represents function `initiateShutdown()`
        InitiateShutdown initiate_shutdown = 1;
        // Represents function `liftShutdown()`
        LiftShutdown lift_shutdown = 2;
        // Represents function `setPlatformFee(uint256)`
        SetPlatformFee set_platform_fee = 3;
        // Represents function `setStrategistPlatformCut(address)`
        SetStrategistPlatformCut set_strategist_platform_cut = 4;
        // Represents function `setupAdaptor(address adaptor)`
        SetupAdaptor setup_adaptor = 5;
        // Represents function `setRebalanceDeviation(uint256)`
        SetRebalanceDeviation set_rebalance_deviation = 6;
    }

    // Represents function `initiateShutdown()`
    message InitiateShutdown {
    }

    // Represents function `liftShutdown()`
    message LiftShutdown {
    }

    // Represents function `setPlatformFee(uint64)`
    message SetPlatformFee {
        // New platform fee
        uint64 amount = 1;
    }

    // Represents function `setStrategistPlatformCut(uint64)`
    message SetStrategistPlatformCut {
        // New strategist platform cut
        uint64 amount = 1;
    }

    /*
    * Allows owner to add new adaptors for the cellar to use.
    *
    * Represents function `setupAdaptor(address adaptor)`
    */
    message SetupAdaptor {
        // Address of the adaptor
        string adaptor = 1;
    }

    /*
    * Changes the cellar's allowed rebalance deviation, which is the percent the total assets of a cellar may deviate
    * during a `callOnAdaptor`(rebalance) call. The maximum allowed deviation is 100000000000000000 (0.1e18), or 10%.
    *
    * Represents function `setRebalanceDeviation(uint256)`
    */
    message SetRebalanceDeviation {
        string new_deviation = 1;
    }
}

message CellarV2_2 {
    oneof call_type {
        // Represents a single function call
        FunctionCall function_call = 1;
        // Represents multiple, ordered function calls
        Multicall multicall = 2;
    }

    // The function you wish to execute on the target cellar
    message FunctionCall {
        oneof function {
            // Represents function `addPosition(uint256 index, address position)`
            AddPosition add_position = 1;
            // Represents function `callOnAdaptor(AdaptorCall[] memory data)`
            CallOnAdaptor call_on_adaptor = 2;
            // Represents function `removePosition(uint256 index, bool inDebtArray)`
            RemovePosition remove_position = 3;
            // Represents function `removeAdaptorFromCatalogue(address adaptor)`
            RemoveAdaptorFromCatalogue remove_adaptor_from_catalogue = 4;
            // Represents function `removePositionFromCatalogue(uint32 positionId)`
            RemovePositionFromCatalogue remove_position_from_catalogue = 5;
            // Represents function `setHoldingPosition(uint32 position_id)`
            SetHoldingPosition set_holding_position = 6;
            // Represents function `setStrategistPayoutAddress(address payout)`
            SetStrategistPayoutAddress set_strategist_payout_address = 7;
            // Represents function `swapPositions(uint256 index1, uint256 index2)`
            SwapPositions swap_positions = 8;

            // TEMPORARY
            // These are governance functions, but will be allowed in a limited capacity for SPs while
            // the new governance model is still in early adoption for emergencies.

            // Represents function `addAdaptorToCatalogue(address adaptor)`
            AddAdaptorToCatalogue add_adaptor_to_catalogue = 9;
            // Represents function `addPositionToCatalogue(uint32 positionId)`
            AddPositionToCatalogue add_position_to_catalogue = 10;
            // Represents function `setRebalanceDeviation(uint256)`
            SetRebalanceDeviation set_rebalance_deviation = 11;
            // Represents function `setShareLockPeriod(uint256 newLock)`
            SetShareLockPeriod set_share_lock_period = 12;
            // Represents function `setStrategistPlatformCut(uint64 cut)`
            SetStrategistPlatformCut set_strategist_platform_cut = 13;
            // Represents function `initiateShutdown()`
            InitiateShutdown initiate_shutdown = 14;
            // Represents function `liftShutdown()`
            LiftShutdown lift_shutdown = 15; 
            // Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
            CachePriceRouter cache_price_router = 16;        
        }
    }

    /*
    * Insert a trusted position to the list of positions used by the cellar at a given index.
    *
    * Represents function `addPosition(uint32 index, uint32 positionId, bytes configurationData, bool inDebtArray)`
    */
    message AddPosition {
        // Index at which to add the position
        uint32 index = 1;
        // The position's ID in the cellar registry
        uint32 position_id = 2;
        // Data used to configure how the position behaves
        bytes configuration_data = 3;
        // Whether to add position in the debt array, or the credit array.
        bool in_debt_array = 4;
    }

    /*
    * Allows strategists to manage their Cellar using arbitrary logic calls to adaptors.
    *
    * Represents function `callOnAdaptor(AdaptorCall[] memory data)`
    */
    message CallOnAdaptor {
        repeated AdaptorCall data = 1;
    }

    /*
    * Remove the position at a given index from the list of positions used by the cellar.
    *
    * Represents function `removePosition(uint32 index, bool inDebtArray)`
    */
    message RemovePosition {
        // Index at which to remove the position
        uint32 index = 1;
        // Whether to remove position from the debt array, or the credit array.
        bool in_debt_array = 2;
    }

    /*
    * Allows callers to remove adaptors from this cellar's catalogue
    *
    * Represents function `removeAdaptorFromCatalogue(address adaptor)`
    */
    message RemoveAdaptorFromCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows caller to remove positions from this cellar's catalogue
    *
    * Represents function `removePositionFromCatalogue(uint32 positionId)`
    */
    message RemovePositionFromCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Set the holding position used of the cellar.
    *
    * Represents function `setHoldingIndex(uint8 index)`
    */
    message SetHoldingPosition {
        // ID (index) of the new holding position to use
        uint32 position_id = 1;
    }

    /*
    * Sets the Strategists payout address.
    *
    * Represents function `setStrategistPayoutAddress(address payout)`
    */
    message SetStrategistPayoutAddress {
        string payout = 1;
    }

    /*
    * Swap the positions at two given indeces.
    *
    * Represents function `swapPositions(uint32 index1, uint32 index2)`
    */
    message SwapPositions {
        // Index of the first position
        uint32 index_1 = 1;
        // Index of the second position
        uint32 index_2 = 2;
        // Whether to switch positions in the debt array, or the credit array.
        bool in_debt_array = 3;
    }

    /*
    * Allows caller to call multiple functions in a single TX.
    *
    * Represents function `multicall(bytes[] data)`
    */
    message Multicall {
        repeated FunctionCall function_calls = 1;
    }

    /*
    * Allows the owner to add an adaptor to the Cellar's adaptor catalogue
    *
    * Represents function `addAdaptorToCatalogue(address adaptor)`
    */
    message AddAdaptorToCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows the owner to add a position to the Cellar's position catalogue
    *
    * Represents function `addPositionToCatalogue(uint32 positionId)`
    */
    message AddPositionToCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Allows share lock period to be updated.
    *
    * Represents function `setShareLockPeriod()`
    */
    message SetShareLockPeriod {
        string new_lock = 1;
    }

    /*
    * Changes the cellar's allowed rebalance deviation, which is the percent the total assets of a cellar may deviate
    * during a `callOnAdaptor`(rebalance) call. The maximum allowed deviation is 100000000000000000 (0.1e18), or 10%.
    *
    * Represents function `setRebalanceDeviation(uint256)`
    */
    message SetRebalanceDeviation {
        string new_deviation = 1;
    }

    /*
    * Shutdown the cellar. Used in an emergency or if the cellar has been deprecated.
    *
    * Represents function `initiateShutdown()`
    */
    message InitiateShutdown {}

    /*
    * Allows strategist to set the platform cut for the cellar.
    *
    * Represents function `setStrategistPlatformCut(uint64 cut)`
    */
    message SetStrategistPlatformCut {
        // The new strategist platform cut
        uint64 new_cut = 1;
    }

    /*
    * Allows the owner to restart a shut down Cellar
    *
    * Represents function `liftShutdown()`
    */
    message LiftShutdown {}

    /*
    * Updates the cellar to use the latest price router in the registry.
    *
    * Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
    */
    message CachePriceRouter {
        // Whether to check the total assets of the cellar
        bool check_total_assets = 1;
        // The allowable range of the cellar's total assets to deviate between old and new routers
        uint32 allowable_range = 2;
        // The expected price router address
        string expected_price_router = 3;
    }

}

/*
* Represent a function call initiated through a governance proposal
*/
message CellarV2_2Governance {
    oneof call_type {
        // Represents a single function call
        FunctionCall function_call = 1;
        // Represents multiple, ordered function calls
        Multicall multicall = 2;
    }

    // The function you wish to execute on the target cellar
    message FunctionCall {
        oneof function {
            // Represents function `addAdaptorToCatalogue(address adaptor)`
            AddAdaptorToCatalogue add_adaptor_to_catalogue = 1;
            // Represents function `addPositionToCatalogue(uint32 positionId)`
            AddPositionToCatalogue add_position_to_catalogue = 2;
            // Represents function `setRebalanceDeviation(uint256)`
            SetRebalanceDeviation set_rebalance_deviation = 3;
            // Represents function `setShareLockPeriod(uint256 newLock)`
            SetShareLockPeriod set_share_lock_period = 4;
            // Represents function `setStrategistPlatformCut(uint64 cut)`
            SetStrategistPlatformCut set_strategist_platform_cut = 5;
            // Represents function `initiateShutdown()`
            InitiateShutdown initiate_shutdown = 6;
            // Represents function `liftShutdown()`
            LiftShutdown lift_shutdown = 7;
            // Represents function `forcePositionOut(uint32 index, uint32 positionId, bool inDebtArray)`
            ForcePositionOut force_position_out = 8;
            // Represents function `toggleIgnorePause(bool ignore)`
            ToggleIgnorePause toggle_ignore_pause = 9;
            // Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
            CachePriceRouter cache_price_router = 10;
            // Represents function `addPosition(uint256 index, address position)`
            AddPosition add_position = 11;
            // Represents function `callOnAdaptor(AdaptorCall[] memory data)`
            CallOnAdaptor call_on_adaptor = 12;
            // Represents function `removePosition(uint256 index, bool inDebtArray)`
            RemovePosition remove_position = 13;
            // Represents function `removeAdaptorFromCatalogue(address adaptor)`
            RemoveAdaptorFromCatalogue remove_adaptor_from_catalogue = 14;
            // Represents function `removePositionFromCatalogue(uint32 positionId)`
            RemovePositionFromCatalogue remove_position_from_catalogue = 15;
            // Represents function `setHoldingPosition(uint32 position_id)`
            SetHoldingPosition set_holding_position = 16;
            // Represents function `swapPositions(uint256 index1, uint256 index2)`
            SwapPositions swap_positions = 18;
        }
    }
    
    /*
    * Allows caller to call multiple functions in a single TX.
    *
    * Represents function `multicall(bytes[] data)`
    */
    message Multicall {
        repeated FunctionCall function_calls = 1;
    }

    /*
    * Allows the owner to add an adaptor to the Cellar's adaptor catalogue
    *
    * Represents function `addAdaptorToCatalogue(address adaptor)`
    */
    message AddAdaptorToCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows the owner to add a position to the Cellar's position catalogue
    *
    * Represents function `addPositionToCatalogue(uint32 positionId)`
    */
    message AddPositionToCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Allows share lock period to be updated.
    *
    * Represents function `setShareLockPeriod()`
    */
    message SetShareLockPeriod {
        string new_lock = 1;
    }

    /*
    * Changes the cellar's allowed rebalance deviation, which is the percent the total assets of a cellar may deviate
    * during a `callOnAdaptor`(rebalance) call. The maximum allowed deviation is 100000000000000000 (0.1e18), or 10%.
    *
    * Represents function `setRebalanceDeviation(uint256)`
    */
    message SetRebalanceDeviation {
        string new_deviation = 1;
    }

    /*
    * Shutdown the cellar. Used in an emergency or if the cellar has been deprecated.
    *
    * Represents function `initiateShutdown()`
    */
    message InitiateShutdown {}

    /*
    * Allows strategist to set the platform cut for the cellar.
    *
    * Represents function `setStrategistPlatformCut(uint64 cut)`
    */
    message SetStrategistPlatformCut {
        // The new strategist platform cut
        uint64 new_cut = 1;
    }

    /*
    * Allows the owner to restart a shut down Cellar
    *
    * Represents function `liftShutdown()`
    */
    message LiftShutdown {}

    /*
    * Allows caller to force a position out of the cellar
    *
    * Represents function `forcePositionOut(uint32 index, uint32 positionId, bool inDebtArray)`
    */
    message ForcePositionOut {
        uint32 index = 1;
        uint32 position_id = 2;
        bool in_debt_array = 3;
    }

    /*
    * Allows caller to toggle the ignorePause flag on the cellar
    *
    * Represents function `toggleIgnorePause(bool ignore)`
    */
    message ToggleIgnorePause {
        bool ignore = 1;
    }

    /*
    * Updates the cellar to use the latest price router in the registry.
    *
    * Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
    */
    message CachePriceRouter {
        // Whether to check the total assets of the cellar
        bool check_total_assets = 1;
        // The allowable range of the cellar's total assets to deviate between old and new routers
        uint32 allowable_range = 2;
        // The expected price router address
        string expected_price_router = 3;
    }

    /*
    * Insert a trusted position to the list of positions used by the cellar at a given index.
    *
    * Represents function `addPosition(uint32 index, uint32 positionId, bytes configurationData, bool inDebtArray)`
    */
    message AddPosition {
        // Index at which to add the position
        uint32 index = 1;
        // The position's ID in the cellar registry
        uint32 position_id = 2;
        // Data used to configure how the position behaves
        bytes configuration_data = 3;
        // Whether to add position in the debt array, or the credit array.
        bool in_debt_array = 4;
    }

    /*
    * Allows strategists to manage their Cellar using arbitrary logic calls to adaptors.
    *
    * Represents function `callOnAdaptor(AdaptorCall[] memory data)`
    */
    message CallOnAdaptor {
        repeated AdaptorCall data = 1;
    }

    /*
    * Remove the position at a given index from the list of positions used by the cellar.
    *
    * Represents function `removePosition(uint32 index, bool inDebtArray)`
    */
    message RemovePosition {
        // Index at which to remove the position
        uint32 index = 1;
        // Whether to remove position from the debt array, or the credit array.
        bool in_debt_array = 2;
    }

    /*
    * Allows callers to remove adaptors from this cellar's catalogue
    *
    * Represents function `removeAdaptorFromCatalogue(address adaptor)`
    */
    message RemoveAdaptorFromCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows caller to remove positions from this cellar's catalogue
    *
    * Represents function `removePositionFromCatalogue(uint32 positionId)`
    */
    message RemovePositionFromCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Set the holding position used of the cellar.
    *
    * Represents function `setHoldingIndex(uint8 index)`
    */
    message SetHoldingPosition {
        // ID (index) of the new holding position to use
        uint32 position_id = 1;
    }

    /*
    * Swap the positions at two given indeces.
    *
    * Represents function `swapPositions(uint32 index1, uint32 index2)`
    */
    message SwapPositions {
        // Index of the first position
        uint32 index_1 = 1;
        // Index of the second position
        uint32 index_2 = 2;
        // Whether to switch positions in the debt array, or the credit array.
        bool in_debt_array = 3;
    }
}

message CellarV2_5 {
    oneof call_type {
        // Represents a single function call
        FunctionCall function_call = 1;
        // Represents multiple, ordered function calls
        Multicall multicall = 2;
    }

    // The function you wish to execute on the target cellar
    message FunctionCall {
        oneof function {
            // Represents function `addPosition(uint256 index, address position)`
            AddPosition add_position = 1;
            // Represents function `callOnAdaptor(AdaptorCall[] memory data)`
            CallOnAdaptor call_on_adaptor = 2;
            // Represents function `removePosition(uint256 index)`
            RemovePosition remove_position = 3;
            // Represents function `setHoldingPosition(uint32 position_id)`
            SetHoldingPosition set_holding_position = 4;
            // Represents function `setStrategistPayoutAddress(address payout)`
            SetStrategistPayoutAddress set_strategist_payout_address = 5;
            // Represents function `swapPositions(uint256 index1, uint256 index2)`
            SwapPositions swap_positions = 6;
            // Represents function `setShareLockPeriod(uint256 newLock)`
            SetShareLockPeriod set_share_lock_period = 8;
            // Represents function `initiateShutdown()`
            InitiateShutdown initiate_shutdown = 9;
            // Represents function `liftShutdown()`
            LiftShutdown lift_shutdown = 11;
            // Represents function `removeAdaptorFromCatalogue(address adaptor)`
            RemoveAdaptorFromCatalogue remove_adaptor_from_catalogue = 12;
            // Represents function `removePositionFromCatalogue(uint32 positionId)`
            RemovePositionFromCatalogue remove_position_from_catalogue = 13;
            // Represents function `decreaseShareSupplyCap(uint192)
            DecreaseShareSupplyCap decrease_share_supply_cap = 14;
            // Represents function `setAlternativeAssetData(ERC20 _alternativeAsset, uint32 _alternativeHoldingPosition, uint32 _alternativeAssetFee)`
            SetAlternativeAssetData set_alternative_asset_data = 15;
            // Represents function `setDropAlternativeAssetData(ERC20 _alternativeAsset)`
            DropAlternativeAssetData drop_alternative_asset_data = 16;

            // TEMPORARY
            // These are governance functions, but will be allowed in a limited capacity for SPs while
            // the new governance model is still in early adoption for emergencies.

            // Represents function `addAdaptorToCatalogue(address adaptor)`
            AddAdaptorToCatalogue add_adaptor_to_catalogue = 17;
            // Represents function `addPositionToCatalogue(uint32 positionId)`
            AddPositionToCatalogue add_position_to_catalogue = 18;
            // Represents function `setRebalanceDeviation(uint256)`
            SetRebalanceDeviation set_rebalance_deviation = 19;
            // Represents function `setStrategistPlatformCut(uint64 cut)`
            SetStrategistPlatformCut set_strategist_platform_cut = 20;
            // Represents function `setSharePriceOracle(uint256 _registryId, ERC4626SharePriceOracle _sharePriceOracle)`
            SetSharePriceOracle set_share_price_oracle = 21;
            // Represents function `increaseShareSupplyCap(uint192 _newShareSupplyCap)`
            IncreaseShareSupplyCap increase_share_supply_cap = 22;
            // Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
            CachePriceRouter cache_price_router = 23;
        }
    }

    /*
    * Insert a trusted position to the list of positions used by the cellar at a given index.
    *
    * Represents function `addPosition(uint32 index, uint32 positionId, bytes configurationData, bool inDebtArray)`
    */
    message AddPosition {
        // Index at which to add the position
        uint32 index = 1;
        // The position's ID in the cellar registry
        uint32 position_id = 2;
        // Data used to configure how the position behaves
        bytes configuration_data = 3;
        // Whether to add position in the debt array, or the credit array.
        bool in_debt_array = 4;
    }

    /*
    * Allows strategists to manage their Cellar using arbitrary logic calls to adaptors.
    *
    * Represents function `callOnAdaptor(AdaptorCall[] memory data)`
    */
    message CallOnAdaptor {
        repeated AdaptorCall data = 1;
    }

    /*
    * Remove the position at a given index from the list of positions used by the cellar.
    *
    * Represents function `removePosition(uint32 index, bool inDebtArray)`
    */
    message RemovePosition {
        // Index at which to remove the position
        uint32 index = 1;
        // Whether to remove position from the debt array, or the credit array.
        bool in_debt_array = 2;
    }

    /*
    * Set the holding position used of the cellar.
    *
    * Represents function `setHoldingIndex(uint8 index)`
    */
    message SetHoldingPosition {
        // ID (index) of the new holding position to use
        uint32 position_id = 1;
    }

    /*
    * Sets the Strategists payout address.
    *
    * Represents function `setStrategistPayoutAddress(address payout)`
    */
    message SetStrategistPayoutAddress {
        string payout = 1;
    }

    /*
    * Swap the positions at two given indeces.
    *
    * Represents function `swapPositions(uint32 index1, uint32 index2)`
    */
    message SwapPositions {
        // Index of the first position
        uint32 index_1 = 1;
        // Index of the second position
        uint32 index_2 = 2;
        // Whether to switch positions in the debt array, or the credit array.
        bool in_debt_array = 3;
    }

    /*
    * Allows share lock period to be updated.
    *
    * Represents function `setShareLockPeriod()`
    */
    message SetShareLockPeriod {
        string new_lock = 1;
    }

    /*
    * Shutdown the cellar. Used in an emergency or if the cellar has been deprecated.
    *
    * Represents function `initiateShutdown()`
    */
    message InitiateShutdown {}

    /*
    * Allows the owner to restart a shut down Cellar
    *
    * Represents function `liftShutdown()`
    */
    message LiftShutdown {}

    /*
    * Allows caller to call multiple functions in a single TX.
    *
    * Represents function `multicall(bytes[] data)`
    */
    message Multicall {
        repeated FunctionCall function_calls = 1;
    }

    /*
    * Allows callers to remove adaptors from this cellar's catalogue
    *
    * Represents function `removeAdaptorFromCatalogue(address adaptor)`
    */
    message RemoveAdaptorFromCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows caller to remove positions from this cellar's catalogue
    *
    * Represents function `removePositionFromCatalogue(uint32 positionId)`
    */
    message RemovePositionFromCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Allows strategist to decrease the share supply cap
    *
    * Represents function `decreaseShareSupplyCap(uint192)`
    */
    message DecreaseShareSupplyCap {
        string new_cap = 1;
    } 

    /*
    * Allows the strategist to add, or update an existing alternative asset deposit.
    *
    * Represents function `setAlternativeAssetData(ERC20 _alternativeAsset, uint32 _alternativeHoldingPosition, uint32 _alternativeAssetFee)`
    */
    message SetAlternativeAssetData {
        // The address of the alternative asset
        string alternative_asset = 1;
        // The holding position to direct alternative asset deposits to
        uint32 alternative_holding_position = 2;
        // The fee to charge for depositing this alternative asset
        uint32 alternative_asset_fee = 3;
    }

    /*
    * Allows the strategist to stop an alternative asset from being deposited.
    *
    * Represents function `dropAlternativeAssetData(ERC20 _alternativeAsset)`
    */
    message DropAlternativeAssetData {
        // The address of the alternative asset
        string alternative_asset = 1;
    }

    /*
    * Allows the owner to add an adaptor to the Cellar's adaptor catalogue
    *
    * Represents function `addAdaptorToCatalogue(address adaptor)`
    */
    message AddAdaptorToCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows the owner to add a position to the Cellar's position catalogue
    *
    * Represents function `addPositionToCatalogue(uint32 positionId)`
    */
    message AddPositionToCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Changes the cellar's allowed rebalance deviation, which is the percent the total assets of a cellar may deviate
    * during a `callOnAdaptor`(rebalance) call. The maximum allowed deviation is 100000000000000000 (0.1e18), or 10%.
    *
    * Represents function `setRebalanceDeviation(uint256)`
    */
    message SetRebalanceDeviation {
        string new_deviation = 1;
    }

    /*
    * Allows strategist to set the platform cut for the cellar.
    *
    * Represents function `setStrategistPlatformCut(uint64 cut)`
    */
    message SetStrategistPlatformCut {
        // The new strategist platform cut
        uint64 new_cut = 1;
    }

    /*
    * Allows the caller to increase the share supply cap
    *
    * Represents function `increaseShareSupplyCap(uint192 _newShareSupplyCap)`
    */
    message IncreaseShareSupplyCap {
        string new_cap = 1;
    }

    /*
    * Allows the caller to set the share price oracle contract
    *
    * Represents function `setSharePriceOracle(uint256 _registryId, ERC4626SharePriceOracle _sharePriceOracle)`
    */  
    message SetSharePriceOracle {
        // The oracle registry ID
        string registry_id = 1;
        // The oracle contract address
        string share_price_oracle = 2;
    }

    /*
    * Updates the cellar to use the latest price router in the registry.
    *
    * Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
    */
    message CachePriceRouter {
        // Whether to check the total assets of the cellar
        bool check_total_assets = 1;
        // The allowable range of the cellar's total assets to deviate between old and new routers
        uint32 allowable_range = 2;
        // The expected price router address
        string expected_price_router = 3;
    }
}

/*
* Represent a function call initiated through a governance proposal
*/
message CellarV2_5Governance {
    oneof call_type {
        // Represents a single function call
        FunctionCall function_call = 1;
        // Represents multiple, ordered function calls
        Multicall multicall = 2;
    }

    // The function you wish to execute on the target cellar   
    message FunctionCall {
        oneof function {
            // Represents function `addAdaptorToCatalogue(address adaptor)`
            AddAdaptorToCatalogue add_adaptor_to_catalogue = 1;
            // Represents function `addPositionToCatalogue(uint32 positionId)`
            AddPositionToCatalogue add_position_to_catalogue = 2;
            // Represents function `setRebalanceDeviation(uint256)`
            SetRebalanceDeviation set_rebalance_deviation = 3;
            // Represents function `setStrategistPlatformCut(uint64 cut)`
            SetStrategistPlatformCut set_strategist_platform_cut = 4;
            // Represents function `forcePositionOut(uint32 index, uint32 positionId, bool inDebtArray)`
            ForcePositionOut force_position_out = 5;
            // Represents function `toggleIgnorePause()`
            ToggleIgnorePause toggle_ignore_pause = 6;
            // Represents function `setSharePriceOracle(uint256 _registryId, ERC4626SharePriceOracle _sharePriceOracle)`
            SetSharePriceOracle set_share_price_oracle = 7;
            // Represents function `increaseShareSupplyCap(uint192 _newShareSupplyCap)`
            IncreaseShareSupplyCap increase_share_supply_cap = 8;
            // Represents function `setAutomatiionActions(uint256 _registryId, address _expectedAutomationActions)`
            SetAutomationActions set_automation_actions = 9;
            // Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
            CachePriceRouter cache_price_router = 10;
            // Represents function `initiateShutdown()`
            InitiateShutdown initiate_shutdown = 11;
            // Represents function `liftShutdown()`
            LiftShutdown lift_shutdown = 12;
            // Represents function `removeAdaptorFromCatalogue(address adaptor)`
            RemoveAdaptorFromCatalogue remove_adaptor_from_catalogue = 13;
            // Represents function `removePositionFromCatalogue(uint32 positionId)`
            RemovePositionFromCatalogue remove_position_from_catalogue = 14;
            // Represents function `decreaseShareSupplyCap(uint192)
            DecreaseShareSupplyCap decrease_share_supply_cap = 15;
            // Represents function `setHoldingPosition(uint32 position_id)`
            SetHoldingPosition set_holding_position = 16;
            // Represents function `addPosition(uint256 index, address position)`
            AddPosition add_position = 17;
            // Represents function `callOnAdaptor(AdaptorCall[] memory data)`
            CallOnAdaptor call_on_adaptor = 18;
            // Represents function `removePosition(uint256 index)`
            RemovePosition remove_position = 19;
        }
    }

    /*
    * Allows caller to call multiple functions in a single TX.
    *
    * Represents function `multicall(bytes[] data)`
    */
    message Multicall {
        repeated FunctionCall function_calls = 1;
    }

    /*
    * Allows the owner to add an adaptor to the Cellar's adaptor catalogue
    *
    * Represents function `addAdaptorToCatalogue(address adaptor)`
    */
    message AddAdaptorToCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows the owner to add a position to the Cellar's position catalogue
    *
    * Represents function `addPositionToCatalogue(uint32 positionId)`
    */
    message AddPositionToCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Changes the cellar's allowed rebalance deviation, which is the percent the total assets of a cellar may deviate
    * during a `callOnAdaptor`(rebalance) call. The maximum allowed deviation is 100000000000000000 (0.1e18), or 10%.
    *
    * Represents function `setRebalanceDeviation(uint256)`
    */
    message SetRebalanceDeviation {
        string new_deviation = 1;
    }

    /*
    * Allows strategist to set the platform cut for the cellar.
    *
    * Represents function `setStrategistPlatformCut(uint64 cut)`
    */
    message SetStrategistPlatformCut {
        // The new strategist platform cut
        uint64 new_cut = 1;
    }

    /*
    * Allows caller to force a position out of the cellar
    *
    * Represents function `forcePositionOut(uint32 index, uint32 positionId, bool inDebtArray)`
    */
    message ForcePositionOut {
        uint32 index = 1;
        uint32 position_id = 2;
        bool in_debt_array = 3;
    }

    /*
    * Allows caller to toggle the ignorePause flag on the cellar
    *
    * Represents function `toggleIgnorePause()`
    */
    message ToggleIgnorePause { }

    /*
    * Allows caller to set automation actions
    *
    * Represents function `setAutomatiionActions(uint256 _registryId, address _expectedAutomationActions)`
    */
    message SetAutomationActions {
        // The oracle registry ID
        string registry_id = 1;
        // The automation actions contract address
        string expected_automation_actions = 2;
    }

    /*
    * Allows the caller to increase the share supply cap
    *
    * Represents function `increaseShareSupplyCap(uint192 _newShareSupplyCap)`
    */
    message IncreaseShareSupplyCap {
        string new_cap = 1;
    }

    /*
    * Allows the caller to set the share price oracle contract
    *
    * Represents function `setSharePriceOracle(uint256 _registryId, ERC4626SharePriceOracle _sharePriceOracle)`
    */  
    message SetSharePriceOracle {
        // The oracle registry ID
        string registry_id = 1;
        // The oracle contract address
        string share_price_oracle = 2;
    }

    /*
    * Updates the cellar to use the latest price router in the registry.
    *
    * Represents function `cachePriceRouter(bool checkTotalAssets, uint16 allowableRange, address expectedPriceRouter)`
    */
    message CachePriceRouter {
        // Whether to check the total assets of the cellar
        bool check_total_assets = 1;
        // The allowable range of the cellar's total assets to deviate between old and new routers
        uint32 allowable_range = 2;
        // The expected price router address
        string expected_price_router = 3;
    }

    /*
    * Shutdown the cellar. Used in an emergency or if the cellar has been deprecated.
    *
    * Represents function `initiateShutdown()`
    */
    message InitiateShutdown {}

    /*
    * Allows the owner to restart a shut down Cellar
    *
    * Represents function `liftShutdown()`
    */
    message LiftShutdown {}

    /*
    * Allows callers to remove adaptors from this cellar's catalogue
    *
    * Represents function `removeAdaptorFromCatalogue(address adaptor)`
    */
    message RemoveAdaptorFromCatalogue {
        string adaptor = 1;
    }

    /*
    * Allows caller to remove positions from this cellar's catalogue
    *
    * Represents function `removePositionFromCatalogue(uint32 positionId)`
    */
    message RemovePositionFromCatalogue {
        uint32 position_id = 1;
    }

    /*
    * Allows strategist to decrease the share supply cap
    *
    * Represents function `decreaseShareSupplyCap(uint192)`
    */
    message DecreaseShareSupplyCap {
        string new_cap = 1;
    }

    /*
    * Set the holding position used of the cellar.
    *
    * Represents function `setHoldingIndex(uint8 index)`
    */
    message SetHoldingPosition {
        // ID (index) of the new holding position to use
        uint32 position_id = 1;
    }

    /*
    * Insert a trusted position to the list of positions used by the cellar at a given index.
    *
    * Represents function `addPosition(uint32 index, uint32 positionId, bytes configurationData, bool inDebtArray)`
    */
    message AddPosition {
        // Index at which to add the position
        uint32 index = 1;
        // The position's ID in the cellar registry
        uint32 position_id = 2;
        // Data used to configure how the position behaves
        bytes configuration_data = 3;
        // Whether to add position in the debt array, or the credit array.
        bool in_debt_array = 4;
    }

    /*
    * Allows strategists to manage their Cellar using arbitrary logic calls to adaptors.
    *
    * Represents function `callOnAdaptor(AdaptorCall[] memory data)`
    */
    message CallOnAdaptor {
        repeated AdaptorCall data = 1;
    }

    /*
    * Remove the position at a given index from the list of positions used by the cellar.
    *
    * Represents function `removePosition(uint32 index, bool inDebtArray)`
    */
    message RemovePosition {
        // Index at which to remove the position
        uint32 index = 1;
        // Whether to remove position from the debt array, or the credit array.
        bool in_debt_array = 2;
    }
}



// Represents a call to adaptor an. The cellar must be authorized to call the target adaptor.
message AdaptorCall {
    // Address of the adaptor
    string adaptor = 1;
    // The function call data for the adaptor
    oneof call_data {
        // Represents function calls to the AaveATokenAdaptor V1
        AaveATokenAdaptorV1Calls aave_a_token_v1_calls = 2;
        // Represents function calls to the AavaDebtTokenAdaptor V1
        AaveDebtTokenAdaptorV1Calls aave_debt_token_v1_calls = 3;
        // Represents function calls to the CompoundCTokenAdaptor V2
        CompoundCTokenAdaptorV2Calls compound_c_token_v2_calls = 4;
        // Represents function calls to the AaveATokenV2Adaptor
        AaveATokenAdaptorV2Calls aave_a_token_v2_calls = 5;
        // Represents function calls to the AavaDebtTokenV2Adaptor
        AaveDebtTokenAdaptorV2Calls aave_debt_token_v2_calls = 6;
        // Represents function calls to the AaveATokenV1Adaptor
        AaveV3ATokenAdaptorV1Calls aave_v3_a_token_v1_calls = 7;
        // Represents function calls to the AavaDebtTokenV1Adaptor
        AaveV3DebtTokenAdaptorV1Calls aave_v3_debt_token_v1_calls = 8;
        // Represents function calls to the OneInchAdaptorV1
        OneInchAdaptorV1Calls one_inch_v1_calls = 9;
        // Represents function calls to the FeesAndReservesAdaptorV1
        FeesAndReservesAdaptorV1Calls fees_and_reserves_v1_calls = 10;
        // Represents functionc alls to the ZeroXAdaptorV1
        ZeroXAdaptorV1Calls zero_x_v1_calls = 11;
        // Represents function calls to the SwapWithUniswapAdaptorV1
        SwapWithUniswapAdaptorV1Calls swap_with_uniswap_v1_calls = 12;
        // Represents function calls to VestingSimpleAdaptor
        VestingSimpleAdaptorV2Calls vesting_simple_v2_calls = 13;
        // Represents function calls to the CellarAdaptor
        CellarAdaptorV1Calls cellar_v1_calls = 14;
        // Represents function calls to the UniswapV3Adaptor V2
        UniswapV3AdaptorV2Calls uniswap_v3_v2_calls = 15;
        // Represents function calls to the AaveV2EnableAssetAsCollatorAdaptor V1
        AaveV2EnableAssetAsCollateralAdaptorV1Calls aave_v2_enable_asset_as_collateral_v1_calls = 16;
        // Represents function calls to the FTokenAdaptor V1
        FTokenAdaptorV1Calls f_token_v1_calls = 17;
        // Represents function calls to the MorphoAaveV2AToken V1
        MorphoAaveV2ATokenAdaptorV1Calls morpho_aave_v2_a_token_v1_calls = 18;
        // Represents function calls to the MorphoAaveV2DebtToken V1
        MorphoAaveV2DebtTokenAdaptorV1Calls morpho_aave_v2_debt_token_v1_calls = 19;
        // Represents function calls to the MorphoAaveV3ATokenCollateral V1
        MorphoAaveV3ATokenCollateralAdaptorV1Calls morpho_aave_v3_a_token_collateral_v1_calls = 20;
        // Represents function calls to the MorphoAaveV3ATokenP2P V1
        MorphoAaveV3ATokenP2PAdaptorV1Calls morpho_aave_v3_a_token_p2p_v1_calls = 21;
        // Represents function calls to the MorphoAaveV3DebtToken V1
        MorphoAaveV3DebtTokenAdaptorV1Calls morpho_aave_v3_debt_token_v1_calls = 22;
        // Represents function calls to the BalancerPoolAdaptor V1
        BalancerPoolAdaptorV1Calls balancer_pool_v1_calls = 23;
        // Represents function calls to the LegacyCellarAdaptor V1
        LegacyCellarAdaptorV1Calls legacy_cellar_v1_calls = 24;
        // Represents function calls to the DebtFTokenAdaptor V1
        DebtFTokenAdaptorV1Calls debt_f_token_v1_calls = 25;
        // Represents function calls to the CollateralFTokenAdaptor V1
        CollateralFTokenAdaptorV1Calls collateral_f_token_v1_calls = 26;
        // Represents function call for the AaveV3DebtTokenAdaptorV1
        AaveV3DebtTokenAdaptorV1FlashLoanCalls aave_v3_debt_token_v1_flash_loan_calls = 27;
        // Represents function call for the BalancerPoolAdaptorV1
        BalancerPoolAdaptorV1FlashLoanCalls balancer_pool_v1_flash_loan_calls = 28;
        // Represents function calls for the ConvexCurveAdaptorV1
        ConvexCurveAdaptorV1Calls convex_curve_v1_calls = 29;
        // Represents function calls for the CurveAdaptorV1
        CurveAdaptorV1Calls curve_v1_calls = 30;
        // Represents function calls for the AuraERC4626AdaptorV1
        AuraERC4626AdaptorV1Calls aura_erc4626_v1_calls = 31;
        // Represents function calls for the MorphoBlueCollateralAdaptorV1
        MorphoBlueCollateralAdaptorV1Calls morpho_blue_collateral_v1_calls = 32;
        // Represents function calls for the MorphoBlueDebtAdaptorV1
        MorphoBlueDebtAdaptorV1Calls morpho_blue_debt_v1_calls = 33;
        // Represents function calls for the MorphoBlueSupplyAdaptorV1
        MorphoBlueSupplyAdaptorV1Calls morpho_blue_supply_v1_calls = 34;
        // Represents function calls for the ERC4626AdaptorV1 
        ERC4626AdaptorV1Calls erc4626_v1_calls = 35;
        // Represents function calls for the StakingAdaptorV1
        StakingAdaptorV1Calls staking_v1_calls = 36;
    }
}
